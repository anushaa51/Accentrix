{"ast":null,"code":"var _jsxFileName = \"/home/anusha/Desktop/Accentrix_FINAL_INTEGRATED/ACCENTRIX/Client/src/components/FileDnD.js\";\nimport React from \"react\";\nimport \"./styles/styles.css\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport BackupIcon from \"@material-ui/icons/Backup\";\nimport Axios from \"axios\";\nimport Button from '@material-ui/core/Button';\nimport GraphicEqIcon from '@material-ui/icons/GraphicEq';\nimport ReactDropzone from \"react-dropzone\";\nimport { Typography } from \"@material-ui/core\";\nconst useStyles = makeStyles(theme => ({\n  uploadArea: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n    width: 500,\n    height: 250,\n    border: \"1px dashed darkgrey\"\n  },\n  uploadAreaOff: {\n    border: \"none\",\n    height: 150,\n    width: 500\n  }\n}));\n\nfunction FileDndD(props) {\n  const classes = useStyles();\n  const [droppedFile, setDropppedFile] = React.useState(undefined);\n  const [errorText, setErrorText] = React.useState(\"\");\n  const refAud = React.useRef(undefined);\n\n  const onDrop = e => {\n    e.preventDefault();\n    setDropppedFile(e.target.files[0]);\n  };\n\n  let inputFile = '';\n\n  const proxyClicker = () => {\n    inputFile.click();\n  };\n\n  const uploadFiles = () => {\n    var formdata = new FormData();\n    formdata.append(\"audio_file\", droppedFile);\n    formdata.append(\"from\", props.from);\n    formdata.append(\"to\", props.to);\n    var requestOptions = {\n      method: 'POST',\n      body: formdata,\n      redirect: 'follow'\n    };\n    fetch(\"http://localhost:5000/process\", requestOptions).then(response => response.json()).then(result => {\n      if (result.failed) {\n        setErrorText(result.reason);\n        return;\n      }\n\n      console.log(result);\n      props.setLoaded(false);\n      props.setData(result);\n    }).catch(error => {\n      console.log('error', error);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 5\n    }\n  }, droppedFile && droppedFile.length !== 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: 60,\n      marginBottom: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(GraphicEqIcon, {\n    style: {\n      fontSize: 64\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    style: {\n      fontSize: 16\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  }, droppedFile.name), /*#__PURE__*/React.createElement(Typography, {\n    style: {\n      fontSize: 12\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, droppedFile.type, \" - \", (droppedFile.size / (1024 * 1024)).toFixed(2), \" MB\"), console.log(droppedFile)) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: 60,\n      marginBottom: 10\n    },\n    onClick: () => proxyClicker(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(BackupIcon, {\n    style: {\n      fontSize: 64\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    style: {\n      fontSize: 16\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 15\n    }\n  }, \"Click to Upload\"), /*#__PURE__*/React.createElement(Typography, {\n    style: {\n      fontSize: 14,\n      marginTop: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 15\n    }\n  }, \"Make sure the audio file is WAV, mono channel, PCM with 16 KHz sampling rate at 16 bits per sample.\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    className: \"form-control\",\n    name: \"file\",\n    onChange: onDrop,\n    style: {\n      display: \"none\"\n    },\n    ref: input => {\n      // assigns a reference so we can trigger it later\n      inputFile = input;\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(Button, {\n    onClick: () => uploadFiles(),\n    disabled: !droppedFile,\n    variant: \"contained\",\n    style: {\n      width: 505,\n      marginTop: 25\n    },\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }\n  }, \"Analyze and Convert MFCCs\"), /*#__PURE__*/React.createElement(Typography, {\n    style: {\n      fontSize: 14,\n      marginTop: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }\n  }, errorText), errorText.length !== 0 ? /*#__PURE__*/React.createElement(Button, {\n    onClick: () => window.location.reload(),\n    style: {\n      width: 505,\n      marginTop: 25,\n      marginBottom: 25\n    },\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 33\n    }\n  }, \"Try Again\") : \"\");\n}\n\nexport default FileDndD;","map":{"version":3,"sources":["/home/anusha/Desktop/Accentrix_FINAL_INTEGRATED/ACCENTRIX/Client/src/components/FileDnD.js"],"names":["React","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","BackupIcon","Axios","Button","GraphicEqIcon","ReactDropzone","Typography","useStyles","theme","uploadArea","margin","spacing","minWidth","width","height","border","uploadAreaOff","FileDndD","props","classes","droppedFile","setDropppedFile","useState","undefined","errorText","setErrorText","refAud","useRef","onDrop","e","preventDefault","target","files","inputFile","proxyClicker","click","uploadFiles","formdata","FormData","append","from","to","requestOptions","method","body","redirect","fetch","then","response","json","result","failed","reason","console","log","setLoaded","setData","catch","error","length","marginTop","marginBottom","fontSize","name","type","size","toFixed","display","input","window","location","reload"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,qBAAP;AACA,SAASC,UAAT,QAA2B,0BAA3B;AAEA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,cAAP,MAA2B,kCAA3B;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,aAAP,MAA0B,8BAA1B;AAEA,OAAOC,aAAP,MAA0B,gBAA1B;AACA,SAASC,UAAT,QAA2B,mBAA3B;AAEA,MAAMC,SAAS,GAAGd,UAAU,CAACe,KAAK,KAAK;AACrCC,EAAAA,UAAU,EAAE;AACVC,IAAAA,MAAM,EAAEF,KAAK,CAACG,OAAN,CAAc,CAAd,CADE;AAEVC,IAAAA,QAAQ,EAAE,GAFA;AAGVC,IAAAA,KAAK,EAAE,GAHG;AAIVC,IAAAA,MAAM,EAAE,GAJE;AAKVC,IAAAA,MAAM,EAAE;AALE,GADyB;AASrCC,EAAAA,aAAa,EAAE;AACbD,IAAAA,MAAM,EAAE,MADK;AAEbD,IAAAA,MAAM,EAAE,GAFK;AAGbD,IAAAA,KAAK,EAAE;AAHM;AATsB,CAAL,CAAN,CAA5B;;AAgBA,SAASI,QAAT,CAAkBC,KAAlB,EAAyB;AACvB,QAAMC,OAAO,GAAGZ,SAAS,EAAzB;AACA,QAAM,CAACa,WAAD,EAAcC,eAAd,IAAiC7B,KAAK,CAAC8B,QAAN,CAAeC,SAAf,CAAvC;AACA,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BjC,KAAK,CAAC8B,QAAN,CAAe,EAAf,CAAlC;AACA,QAAMI,MAAM,GAAGlC,KAAK,CAACmC,MAAN,CAAaJ,SAAb,CAAf;;AACA,QAAMK,MAAM,GAAGC,CAAC,IAAI;AAClBA,IAAAA,CAAC,CAACC,cAAF;AACAT,IAAAA,eAAe,CAACQ,CAAC,CAACE,MAAF,CAASC,KAAT,CAAe,CAAf,CAAD,CAAf;AACD,GAHD;;AAKA,MAAIC,SAAS,GAAG,EAAhB;;AAEA,QAAMC,YAAY,GAAG,MAAM;AACzBD,IAAAA,SAAS,CAACE,KAAV;AACD,GAFD;;AAIA,QAAMC,WAAW,GAAG,MAAM;AACxB,QAAIC,QAAQ,GAAG,IAAIC,QAAJ,EAAf;AACAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,YAAhB,EAA8BnB,WAA9B;AACAiB,IAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBrB,KAAK,CAACsB,IAA9B;AACAH,IAAAA,QAAQ,CAACE,MAAT,CAAgB,IAAhB,EAAsBrB,KAAK,CAACuB,EAA5B;AAEA,QAAIC,cAAc,GAAG;AACnBC,MAAAA,MAAM,EAAE,MADW;AAEnBC,MAAAA,IAAI,EAAEP,QAFa;AAGnBQ,MAAAA,QAAQ,EAAE;AAHS,KAArB;AAMAC,IAAAA,KAAK,CAAC,+BAAD,EAAkCJ,cAAlC,CAAL,CACGK,IADH,CACQC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADpB,EAEGF,IAFH,CAEQG,MAAM,IAAI;AACd,UAAIA,MAAM,CAACC,MAAX,EAAmB;AACjB1B,QAAAA,YAAY,CAACyB,MAAM,CAACE,MAAR,CAAZ;AACA;AACD;;AACDC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAZ;AACAhC,MAAAA,KAAK,CAACqC,SAAN,CAAgB,KAAhB;AACArC,MAAAA,KAAK,CAACsC,OAAN,CAAcN,MAAd;AACD,KAVH,EAWGO,KAXH,CAWSC,KAAK,IAAI;AACdL,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBI,KAArB;AACD,KAbH;AAcD,GA1BD;;AA4BA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGtC,WAAW,IAAIA,WAAW,CAACuC,MAAZ,KAAuB,CAAtC,gBACC;AAAK,IAAA,KAAK,EAAE;AAAEC,MAAAA,SAAS,EAAE,EAAb;AAAiBC,MAAAA,YAAY,EAAE;AAA/B,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,aAAD;AAAe,IAAA,KAAK,EAAE;AAAEC,MAAAA,QAAQ,EAAE;AAAZ,KAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,UAAD;AAAY,IAAA,KAAK,EAAE;AAAEA,MAAAA,QAAQ,EAAE;AAAZ,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG1C,WAAW,CAAC2C,IADf,CAFF,eAKE,oBAAC,UAAD;AAAY,IAAA,KAAK,EAAE;AAAED,MAAAA,QAAQ,EAAE;AAAZ,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG1C,WAAW,CAAC4C,IADf,SACwB,CAAC5C,WAAW,CAAC6C,IAAZ,IAAoB,OAAO,IAA3B,CAAD,EAAmCC,OAAnC,CAA2C,CAA3C,CADxB,QALF,EAQGb,OAAO,CAACC,GAAR,CAAYlC,WAAZ,CARH,CADD,gBAYG,uDACE;AAAK,IAAA,KAAK,EAAE;AAAEwC,MAAAA,SAAS,EAAE,EAAb;AAAiBC,MAAAA,YAAY,EAAE;AAA/B,KAAZ;AAAiD,IAAA,OAAO,EAAE,MAAM3B,YAAY,EAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,UAAD;AAAY,IAAA,KAAK,EAAE;AAAE4B,MAAAA,QAAQ,EAAE;AAAZ,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,UAAD;AAAY,IAAA,KAAK,EAAE;AAAEA,MAAAA,QAAQ,EAAE;AAAZ,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAFF,eAKE,oBAAC,UAAD;AAAY,IAAA,KAAK,EAAE;AAAEA,MAAAA,QAAQ,EAAE,EAAZ;AAAgBF,MAAAA,SAAS,EAAE;AAA3B,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2GALF,eAQE;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,SAAS,EAAC,cAA7B;AAA4C,IAAA,IAAI,EAAC,MAAjD;AAAwD,IAAA,QAAQ,EAAEhC,MAAlE;AAA0E,IAAA,KAAK,EAAE;AAAEuC,MAAAA,OAAO,EAAE;AAAX,KAAjF;AAAsG,IAAA,GAAG,EAAEC,KAAK,IAAI;AAClH;AACAnC,MAAAA,SAAS,GAAGmC,KAAZ;AACD,KAHD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,CADF,CAbN,eA8BE,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAE,MAAMhC,WAAW,EAAlC;AAAsC,IAAA,QAAQ,EAAE,CAAChB,WAAjD;AAA8D,IAAA,OAAO,EAAC,WAAtE;AAAkF,IAAA,KAAK,EAAE;AAAEP,MAAAA,KAAK,EAAE,GAAT;AAAc+C,MAAAA,SAAS,EAAE;AAAzB,KAAzF;AAAwH,IAAA,KAAK,EAAC,SAA9H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCA9BF,eAkCE,oBAAC,UAAD;AAAY,IAAA,KAAK,EAAE;AAAEE,MAAAA,QAAQ,EAAE,EAAZ;AAAgBF,MAAAA,SAAS,EAAE;AAA3B,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGpC,SADH,CAlCF,EAsCGA,SAAS,CAACmC,MAAV,KAAqB,CAArB,gBAAyB,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAE,MAAMU,MAAM,CAACC,QAAP,CAAgBC,MAAhB,EAAvB;AAAkD,IAAA,KAAK,EAAE;AAAE1D,MAAAA,KAAK,EAAE,GAAT;AAAc+C,MAAAA,SAAS,EAAE,EAAzB;AAA6BC,MAAAA,YAAY,EAAE;AAA3C,KAAzD;AAA0G,IAAA,KAAK,EAAC,SAAhH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAzB,GAEiB,EAxCpB,CADF;AA6CD;;AAED,eAAe5C,QAAf","sourcesContent":["import React from \"react\";\r\nimport \"./styles/styles.css\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport BackupIcon from \"@material-ui/icons/Backup\";\r\nimport Axios from \"axios\";\r\nimport Button from '@material-ui/core/Button';\r\nimport GraphicEqIcon from '@material-ui/icons/GraphicEq';\r\n\r\nimport ReactDropzone from \"react-dropzone\";\r\nimport { Typography } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  uploadArea: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n    width: 500,\r\n    height: 250,\r\n    border: \"1px dashed darkgrey\"\r\n  },\r\n\r\n  uploadAreaOff: {\r\n    border: \"none\",\r\n    height: 150,\r\n    width: 500\r\n  }\r\n}));\r\n\r\nfunction FileDndD(props) {\r\n  const classes = useStyles();\r\n  const [droppedFile, setDropppedFile] = React.useState(undefined);\r\n  const [errorText, setErrorText] = React.useState(\"\");\r\n  const refAud = React.useRef(undefined);\r\n  const onDrop = e => {\r\n    e.preventDefault();\r\n    setDropppedFile(e.target.files[0]);\r\n  };\r\n\r\n  let inputFile = '';\r\n\r\n  const proxyClicker = () => {\r\n    inputFile.click();\r\n  };\r\n\r\n  const uploadFiles = () => {\r\n    var formdata = new FormData();\r\n    formdata.append(\"audio_file\", droppedFile);\r\n    formdata.append(\"from\", props.from);\r\n    formdata.append(\"to\", props.to);\r\n\r\n    var requestOptions = {\r\n      method: 'POST',\r\n      body: formdata,\r\n      redirect: 'follow'\r\n    };\r\n\r\n    fetch(\"http://localhost:5000/process\", requestOptions)\r\n      .then(response => response.json())\r\n      .then(result => {\r\n        if (result.failed) {\r\n          setErrorText(result.reason);\r\n          return;\r\n        }\r\n        console.log(result)\r\n        props.setLoaded(false)\r\n        props.setData(result)\r\n      })\r\n      .catch(error => {\r\n        console.log('error', error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {droppedFile && droppedFile.length !== 0 ? (\r\n        <div style={{ marginTop: 60, marginBottom: 10 }}>\r\n          <GraphicEqIcon style={{ fontSize: 64 }} />\r\n          <Typography style={{ fontSize: 16 }}>\r\n            {droppedFile.name}\r\n          </Typography>\r\n          <Typography style={{ fontSize: 12 }}>\r\n            {droppedFile.type} - {(droppedFile.size / (1024 * 1024)).toFixed(2)} MB\r\n                  </Typography>\r\n          {console.log(droppedFile)}\r\n        </div>\r\n      ) : (\r\n          <>\r\n            <div style={{ marginTop: 60, marginBottom: 10 }} onClick={() => proxyClicker()}>\r\n              <BackupIcon style={{ fontSize: 64 }} />\r\n              <Typography style={{ fontSize: 16 }}>\r\n                Click to Upload\r\n                  </Typography>\r\n              <Typography style={{ fontSize: 14, marginTop: 20 }}>\r\n                Make sure the audio file is WAV, mono channel, PCM with 16 KHz sampling rate at 16 bits per sample.\r\n                  </Typography>\r\n              <input type=\"file\" className=\"form-control\" name=\"file\" onChange={onDrop} style={{ display: \"none\" }} ref={input => {\r\n                // assigns a reference so we can trigger it later\r\n                inputFile = input;\r\n              }} />\r\n            </div>\r\n          </>\r\n        )}\r\n\r\n      <Button onClick={() => uploadFiles()} disabled={!droppedFile} variant=\"contained\" style={{ width: 505, marginTop: 25 }} color=\"primary\">\r\n        Analyze and Convert MFCCs\r\n            </Button>\r\n\r\n      <Typography style={{ fontSize: 14, marginTop: 20 }}>\r\n        {errorText}\r\n      </Typography>\r\n\r\n      {errorText.length !== 0 ? <Button onClick={() => window.location.reload()}  style={{ width: 505, marginTop: 25, marginBottom: 25 }} color=\"primary\">\r\n        Try Again\r\n            </Button> : \"\"}\r\n\r\n    </div >\r\n  );\r\n}\r\n\r\nexport default FileDndD;\r\n"]},"metadata":{},"sourceType":"module"}